<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fetch()</title>
</head>
<body>
    <h1>fetch()</h1>
    <h3>Source Yahoo Baba <a href="https://www.youtube.com/watch?v=9YNGAxXGJzM" target="_blank">https://www.youtube.com/watch?v=9YNGAxXGJzM</a>  </h3>
    <p>fetch() - get</p>
    <p>fetch() - Insert, Update, Delete</p>
    <p>In JavaScript, the fetch() method is used to make asynchronous requests to the server and load the information that is returned by the server onto the web pages.</p>

    <p>Methods are functions stored as object properties.</p>

    <p>
        <pre>

            fetch(file/URL); 
            It returns a Promise(resolve/reject)
            so we will use then function if promise returns a resolve
            
            fetch(file/URL).then();
            
            fetch(file/URL).then(function(response){ // here whatever data file/URL carries response will have it.
                return response.data // now returns data in response.data. Here data is coming in text or in json. 
                
            });
        </pre>
    </p>
    <p>
        <pre>
            fetch(file/URL).then(function(response){
                return response.data;
            }).then(function(result){
                console.log(result);
            }).catch(function(error){
                console.log(error);
            })
        </pre>
    </p>

    <pre>
        example:
            fetch('data.txt') // locally crated file
            .then((response)=>{
                return response.text();
            }).then((data)=>{
                document.write(data);
                console.log(data)
            })

        More short code

        fetch('data.txt')
        .then((response)=> response.text())
        .then((data)=>console.log(data));

        We can remove parenthesis

        fetch('data.txt')
            .then(response=> response.text())
            .then(data=>console.log(data));

    </pre>

    <h3>How we can print api data on document.</h3>
        fetch('https://jsonplaceholder.typicode.com/users')
        .then(response=> response.json())
        .then(data=>{
            console.log(data)
            for(var x in data){
                var a = `${data[x].name} - ${data[x].email} - ${data[x].address.city} <br>`
                document.write(a)
            }
        })
        .catch((error)=>document.write("error in fetching data"));

    <h2>How to Insert, Update, Delete with fetch()</h2>
    <p>
        <pre>

        </pre>
    </p>
    <script>
        fetch('https://api.musicapi.com/api/:userUUID/playlists/:playlistId')
        .then(response=> response.json())
        .then(data=>{
            console.log(data)
            for(var x in data){
                var a = `${data[x].name} - ${data[x].email} - ${data[x].address.city} <br>`
                document.write(a)
            }
        })
        .catch((error)=>document.write("error in fetching data"));



    </script>
</body>
</html>